<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>  
         function sum(num1,num2){  //函数声明
             return num1+num2;
         }
        //  var sum = function(num1,num2){  //函数表达式
        //      return num1+num2;
        //  }
         function add10(num){
            return num+10;
         }
         function greeting(name){
             return "Hello "+name;
         }
         function callFunction(somefunction,someArgument){
             return somefunction(someArgument);
         }
         console.log(callFunction(add10,20));   //30
         console.log(callFunction(greeting,'vegin'));    //Hello Vegin

         //根据属性比较函数
         function createComparisonFunction(propertyName){
             return function(object1,object2){
                 var num1 = object1[propertyName],
                     num2 = object2[propertyName];
                if(num1<num2){
                    return -1;
                }else if(num1>num2){
                    return 1;
                }else{
                    return 0
                };
             }
         };
         var data = [{name:'Vegin',age:26},{name:'Nicholas',age:28}];
         data.sort(createComparisonFunction('name'));
         console.log(data[0].name);                         //Nicholas
         data.sort(createComparisonFunction('age'));
         console.log(data[0].age);                          //26

         //递归    callee：指向拥有这个arguments对象的函数
        function factorial(num){
            if(num<=1){
                return 1;
            }else{
                return num*arguments.callee(num-1);
            };
        };
        console.log(factorial(5));      //120

        //this   函数据以执行的环境对象

        //caller   保存调用当前函数的引用
        function outer(){
            inner();
        }
        function inner(){
            // console.log(inner.caller);
            console.log(arguments.callee.caller);
        }
        inner();                                //null    如果在全局作用域中调用，值为null
        outer();                                //function outer(){inner();}

        /*apply \ call  ：在特定的作用域中调用函数
            apply:第二个参数可以是arguments对象或Array的实例
            call:第二个参数必须逐个列举出来
        */
        function callSum(num1,num2){
            //return sum.apply(this,arguments);
            //return sum.apply(this,[num1,num2]);
            return sum.call(this,num1,num2);
        }
        console.log(callSum(10,20));            //30
        var color="red";
        var o ={color:"blue"};
        function showColor(){
            console.log(this.color);
        }
        showColor();                //red
        showColor.call(window);   //red
        showColor.call(o);          //blue
        var otherShowColor = showColor.bind(o);    //bind  创建一个函数的实例，其this值会被绑定到传给bind()函数的值
        otherShowColor();    //blue
    </script>
</head>
<body>   
    
</body>
</html>